<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Filtros Coordinador - Sucursal - Ejecutivo - Banda</title>
</head>
<body>
    <h2>Filtros din√°micos</h2>

    <label for="coordinador">Coordinador:</label>
    <select id="coordinador">
        <option value="">Seleccione Coordinador</option>
    </select>

    <label for="sucursal">Sucursal:</label>
    <select id="sucursal">
        <option value="">Seleccione Sucursal</option>
    </select>

    <label for="ejecutivo">Ejecutivo:</label>
    <select id="ejecutivo">
        <option value="">Seleccione Ejecutivo</option>
    </select>

    <label for="banda">Banda:</label>
    <select id="banda">
        <option value="">Seleccione Banda</option>
    </select>

    <script>
        let datos = [];

        async function cargarDatos() {
            try {
                const response = await fetch('datos.json');
                datos = await response.json();
                cargarCoordinadores();
            } catch (error) {
                console.error("Error cargando datos.json", error);
            }
        }

        function cargarCoordinadores() {
            const coordinadorSelect = document.getElementById("coordinador");
            const coordinadoresUnicos = [...new Set(datos.map(d => d.coordinador))];

            coordinadoresUnicos.forEach(coord => {
                const option = document.createElement("option");
                option.value = coord;
                option.textContent = coord;
                coordinadorSelect.appendChild(option);
            });
        }

        function cargarSucursales(coordinador) {
            const sucursalSelect = document.getElementById("sucursal");
            sucursalSelect.innerHTML = '<option value="">Seleccione Sucursal</option>';

            const sucursalesUnicas = [...new Set(
                datos
                    .filter(d => d.coordinador === coordinador)
                    .map(d => d.sucursal)
            )];

            sucursalesUnicas.forEach(suc => {
                const option = document.createElement("option");
                option.value = suc;
                option.textContent = suc;
                sucursalSelect.appendChild(option);
            });
        }

        function cargarEjecutivos(coordinador, sucursal) {
            const ejecutivoSelect = document.getElementById("ejecutivo");
            ejecutivoSelect.innerHTML = '<option value="">Seleccione Ejecutivo</option>';

            const ejecutivosUnicos = [...new Set(
                datos
                    .filter(d => d.coordinador === coordinador && d.sucursal === sucursal)
                    .map(d => d.ejecutivo)
            )];

            ejecutivosUnicos.forEach(eje => {
                const option = document.createElement("option");
                option.value = eje;
                option.textContent = eje;
                ejecutivoSelect.appendChild(option);
            });
        }

        function cargarBandas(coordinador, sucursal, ejecutivo) {
            const bandaSelect = document.getElementById("banda");
            bandaSelect.innerHTML = '<option value="">Seleccione Banda</option>';

            const bandasUnicas = [...new Set(
                datos
                    .filter(d => 
                        d.coordinador === coordinador &&
                        d.sucursal === sucursal &&
                        d.ejecutivo === ejecutivo
                    )
                    .map(d => d.banda)
            )];

            bandasUnicas.forEach(ban => {
                const option = document.createElement("option");
                option.value = ban;
                option.textContent = ban;
                bandaSelect.appendChild(option);
            });
        }

        document.getElementById("coordinador").addEventListener("change", function() {
            const coord = this.value;
            cargarSucursales(coord);
            document.getElementById("ejecutivo").innerHTML = '<option value="">Seleccione Ejecutivo</option>';
            document.getElementById("banda").innerHTML = '<option value="">Seleccione Banda</option>';
        });

        document.getElementById("sucursal").addEventListener("change", function() {
            const coord = document.getElementById("coordinador").value;
            const suc = this.value;
            cargarEjecutivos(coord, suc);
            document.getElementById("banda").innerHTML = '<option value="">Seleccione Banda</option>';
        });

        document.getElementById("ejecutivo").addEventListener("change", function() {
            const coord = document.getElementById("coordinador").value;
            const suc = document.getElementById("sucursal").va
